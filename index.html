<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>オペレーションスパンテスト (Ospan Test)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
        }
        .task {
            margin: 20px;
            font-size: 24px;
        }
        #math-problem, #letter-display, #recall-phase, #feedback, #instructions {
            display: none;
        }
        #recall-options button {
            margin: 5px;
            font-size: 20px;
            padding: 10px;
        }
        #selected-letters {
            margin-top: 20px;
            font-size: 24px;
        }
        #feedback-text {
            font-size: 20px;
            color: green;
        }
        button {
            font-size: 20px;
            padding: 10px 20px;
        }
        #progress {
            margin-top: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <h1>オペレーションスパンテスト (Ospan Test)</h1>

    <!-- Instructions -->
    <div id="instructions" class="task">
        <p>このテストでは、簡単な計算問題を解き、その後に表示されるアルファベット1文字を覚えていただきます。</p>
        <p>最終的に、覚えた英字を順番通りに思い出してしていただきます。</p>
        <p>誤ってしまった場合、修正することはできません。<p>
        <p>準備ができたら、テストを開始してください。</p>
        <button onclick="startPractice()">練習を開始</button>
    </div>

    <!-- Participant ID Input -->
    <div id="participant-id-section" class="task">
        <label for="participant-id">参加者IDを入力してください:</label>
        <input type="text" id="participant-id" required>
        <button type="button" onclick="showInstructions()">次へ</button>
    </div>

    <!-- Math Problem -->
    <div id="math-problem" class="task">
        <p id="math-question">(3 × 2) + 1 = 7</p>
        <div id="progress">問題 <span id="current-trial">1</span>/<span id="total-trials">75</span></div>
        <button onclick="checkAnswer(true)">正しい</button>
        <button onclick="checkAnswer(false)">誤り</button>
    </div>

    <!-- Letter Display -->
    <div id="letter-display" class="task">
        <p id="letter">F</p>
    </div>

    <!-- Recall Phase -->
    <div id="recall-phase" class="task">
        <p>覚えているアルファベットを表示された順に選択してください:</p>
        <div id="recall-options">
            <!-- Letter buttons will be generated dynamically -->
        </div>
        <div id="selected-letters"></div>
        <button onclick="submitRecall()">送信</button>
    </div>

    <!-- Feedback -->
    <div id="feedback" class="task">
        <p id="feedback-text"></p>
        <button onclick="proceed()">次へ</button>
    </div>

    <script src="Ospan.js"></script>
</body>
</html>
